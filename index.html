<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Luntian Digital Gateway | Guardian Access</title>
    <link rel="icon" type="image/png" href="images/lwowhite.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
        body { font-family: 'Outfit', sans-serif; background-color: #020617; color: #e2e8f0; overflow: hidden; }
        .font-tech { font-family: 'Rajdhani', sans-serif; }
        
        /* Cyberpunk/Sci-Fi Effects */
        .neon-text { text-shadow: 0 0 10px rgba(16, 185, 129, 0.5); }
        .neon-border { box-shadow: 0 0 15px rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.5); }
        
        /* Module Gradients */
        .grad-mocs { background: linear-gradient(135deg, rgba(239,68,68,0.1) 0%, rgba(0,0,0,0) 100%); border-left: 3px solid #ef4444; }
        .grad-lets { background: linear-gradient(135deg, rgba(234,179,8,0.1) 0%, rgba(0,0,0,0) 100%); border-left: 3px solid #eab308; }
        .grad-icms { background: linear-gradient(135deg, rgba(59,130,246,0.1) 0%, rgba(0,0,0,0) 100%); border-left: 3px solid #3b82f6; }

        .glass-panel { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.05); }
        .glass-nav { background: rgba(2, 6, 23, 0.9); backdrop-filter: blur(15px); border-top: 1px solid rgba(255,255,255,0.1); }

        /* Animation Utilities */
        .slide-up { animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes slideUp { from { transform: translateY(40px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        
        .fade-out { animation: fadeOut 0.5s ease-in forwards; }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; visibility: hidden; } }

        .scan-line { width: 100%; height: 2px; background: #10b981; position: absolute; top: 0; left: 0; animation: scan 3s infinite linear; box-shadow: 0 0 15px #10b981; }
        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }

        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="h-screen flex flex-col">

    <!-- LANDING VIEW (The "Front Door") -->
    <section id="view-landing" class="absolute inset-0 z-50 flex flex-col lg:flex-row bg-slate-950 overflow-hidden transition-transform duration-700">
        
        <!-- Left Panel: Visual & Info -->
        <div class="lg:w-3/5 relative flex flex-col justify-center p-8 lg:p-16">
            <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1621451537084-482c73073a0f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1974&q=80')] bg-cover opacity-20"></div>
            <div class="absolute inset-0 bg-gradient-to-r from-slate-950 via-slate-950/90 to-slate-950/50"></div>
            
            <div class="relative z-10 space-y-6 slide-up">
                <div class="flex items-center gap-3 mb-4">
                    <img src="images/logo.png" class="h-12 w-auto brightness-200">
                    <div class="h-8 w-px bg-slate-700"></div>
                    <span class="font-tech text-emerald-500 tracking-[0.2em] text-sm">SECURE GATEWAY v2.0</span>
                </div>
                
                <h1 class="font-tech font-bold text-5xl lg:text-7xl text-white leading-none">
                    LUNTIAN<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-500">DIGITAL HUB</span>
                </h1>
                
                <p class="text-slate-400 max-w-lg text-sm lg:text-base leading-relaxed">
                    The unified command operating system for the Port Barton Marine Park. Integrating enforcement, finance, and logistics into one secure backbone.
                </p>

                <!-- System Pillars Grid -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8 max-w-2xl">
                    <!-- MOCS -->
                    <div class="grad-mocs p-4 rounded-lg border border-slate-800 backdrop-blur-sm group hover:border-red-500/50 transition cursor-default">
                        <div class="flex justify-between items-start mb-2">
                            <i class="fas fa-shield-alt text-red-500 text-xl"></i>
                            <span class="text-[9px] font-tech text-red-400 border border-red-900 px-1 rounded">SECURE</span>
                        </div>
                        <h3 class="font-bold text-white text-sm">MOCS</h3>
                        <p class="text-[10px] text-slate-400 mt-1">Marine Operation & Compliance System</p>
                    </div>

                    <!-- LETS -->
                    <div class="grad-lets p-4 rounded-lg border border-slate-800 backdrop-blur-sm group hover:border-yellow-500/50 transition cursor-default">
                        <div class="flex justify-between items-start mb-2">
                            <i class="fas fa-file-invoice-dollar text-yellow-500 text-xl"></i>
                            <span class="text-[9px] font-tech text-yellow-400 border border-yellow-900 px-1 rounded">FINANCE</span>
                        </div>
                        <h3 class="font-bold text-white text-sm">LETS</h3>
                        <p class="text-[10px] text-slate-400 mt-1">Luntian Eco-Tax & Revenue System</p>
                    </div>

                    <!-- ICMS -->
                    <div class="grad-icms p-4 rounded-lg border border-slate-800 backdrop-blur-sm group hover:border-blue-500/50 transition cursor-default">
                        <div class="flex justify-between items-start mb-2">
                            <i class="fas fa-network-wired text-blue-500 text-xl"></i>
                            <span class="text-[9px] font-tech text-blue-400 border border-blue-900 px-1 rounded">LOGISTICS</span>
                        </div>
                        <h3 class="font-bold text-white text-sm">ICMS</h3>
                        <p class="text-[10px] text-slate-400 mt-1">Intelligent Cooperative Management</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel: Login Form -->
        <div class="lg:w-2/5 bg-slate-900 border-l border-white/5 flex flex-col justify-center p-8 relative z-20">
            <div class="max-w-xs mx-auto w-full slide-up" style="animation-delay: 0.2s;">
                <h2 class="font-tech text-2xl text-white mb-6 flex items-center gap-2">
                    <i class="fas fa-fingerprint text-emerald-500"></i> AUTHENTICATE
                </h2>
                
                <form onsubmit="handleLogin(event)" class="space-y-5">
                    <div class="group">
                        <label class="block text-[10px] uppercase font-bold text-slate-500 mb-1 group-focus-within:text-emerald-500 transition">Guardian ID</label>
                        <div class="relative">
                            <i class="fas fa-user-shield absolute left-3 top-3.5 text-slate-600 transition group-focus-within:text-emerald-500"></i>
                            <input type="text" id="login-id" class="w-full bg-black/50 border border-slate-700 text-white pl-10 pr-4 py-3 rounded-lg focus:border-emerald-500 focus:bg-slate-950 outline-none font-tech tracking-wider transition" placeholder="ENTER ID">
                        </div>
                    </div>
                    
                    <div class="group">
                        <label class="block text-[10px] uppercase font-bold text-slate-500 mb-1 group-focus-within:text-emerald-500 transition">Passcode</label>
                        <div class="relative">
                            <i class="fas fa-key absolute left-3 top-3.5 text-slate-600 transition group-focus-within:text-emerald-500"></i>
                            <input type="password" id="login-pass" class="w-full bg-black/50 border border-slate-700 text-white pl-10 pr-4 py-3 rounded-lg focus:border-emerald-500 focus:bg-slate-950 outline-none font-tech tracking-wider transition" placeholder="••••••••">
                        </div>
                    </div>

                    <button type="submit" class="w-full bg-emerald-600 hover:bg-emerald-500 text-black font-bold py-4 rounded-lg font-tech text-lg tracking-widest transition shadow-[0_0_20px_rgba(16,185,129,0.3)] mt-4 relative overflow-hidden group">
                        <span class="relative z-10">ACCESS TERMINAL</span>
                        <div class="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition duration-300"></div>
                    </button>
                </form>

                <div class="mt-8 pt-6 border-t border-white/5 text-center">
                    <p class="text-[10px] text-slate-600">Restricted Access. Unauthorized entry is monitored.</p>
                    <p class="text-[10px] text-slate-700 mt-2">IP: <span class="font-mono text-emerald-900">192.168.X.X</span></p>
                </div>
            </div>
        </div>
    </section>

    <!-- SYSTEM DASHBOARD (Hidden Initially) -->
    <div id="system-dashboard" class="flex-1 flex flex-col hidden opacity-0 transition-opacity duration-700 bg-slate-950">
        
        <!-- COMMAND BAR -->
        <header class="h-16 px-6 flex justify-between items-center border-b border-white/5 bg-slate-950/80 backdrop-blur-md sticky top-0 z-30">
            <div class="flex items-center gap-3">
                <div class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_10px_#10b981]"></div>
                <span class="font-tech text-xl text-white tracking-widest">GATEWAY</span>
            </div>
            <div class="flex items-center gap-4">
                <div class="text-right hidden sm:block">
                    <p class="text-xs text-white font-bold" id="user-name">COMMANDER</p>
                    <p class="text-[10px] text-emerald-500 font-mono" id="user-role">ADMIN_ROOT</p>
                </div>
                <button onclick="logout()" class="w-8 h-8 rounded bg-slate-900 border border-slate-700 flex items-center justify-center text-red-400 hover:border-red-500 transition"><i class="fas fa-power-off"></i></button>
            </div>
        </header>

        <!-- MAIN SCROLL VIEW -->
        <main class="flex-1 overflow-y-auto no-scrollbar p-6">
            
            <!-- LIVE METRICS -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 fade-in">
                <div class="glass-panel p-4 rounded-xl border-l-2 border-blue-500">
                    <p class="text-[10px] text-blue-400 font-bold mb-1">ICMS DISPATCH</p>
                    <h3 class="text-2xl font-tech text-white">42</h3>
                    <p class="text-[10px] text-slate-500">Active Assets</p>
                </div>
                <div class="glass-panel p-4 rounded-xl border-l-2 border-yellow-500">
                    <p class="text-[10px] text-yellow-400 font-bold mb-1">LETS REVENUE</p>
                    <h3 class="text-2xl font-tech text-white">₱12.5k</h3>
                    <p class="text-[10px] text-slate-500">Daily Collection</p>
                </div>
                <div class="glass-panel p-4 rounded-xl border-l-2 border-red-500">
                    <p class="text-[10px] text-red-400 font-bold mb-1">MOCS ALERTS</p>
                    <h3 class="text-2xl font-tech text-white">03</h3>
                    <p class="text-[10px] text-slate-500">Pending Review</p>
                </div>
                <div class="glass-panel p-4 rounded-xl border-l-2 border-emerald-500">
                    <p class="text-[10px] text-emerald-400 font-bold mb-1">GUARDIAN FORCE</p>
                    <h3 class="text-2xl font-tech text-white">18</h3>
                    <p class="text-[10px] text-slate-500">On Duty</p>
                </div>
            </div>

            <!-- MODULE SELECTOR -->
            <h2 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4">Core Systems</h2>
            <div class="grid md:grid-cols-3 gap-6 mb-8 fade-in" style="animation-delay: 0.1s;">
                <!-- ICMS -->
                <div class="glass-panel p-6 rounded-2xl hover:border-blue-500/50 transition group cursor-pointer relative overflow-hidden" onclick="openModule('ICMS')">
                    <div class="absolute -right-4 -top-4 w-20 h-20 bg-blue-500/10 rounded-full blur-2xl group-hover:bg-blue-500/20 transition"></div>
                    <div class="flex justify-between items-start mb-4">
                        <div class="w-12 h-12 rounded-lg bg-blue-900/30 border border-blue-500/30 flex items-center justify-center text-blue-400 text-xl"><i class="fas fa-network-wired"></i></div>
                        <span class="text-[10px] bg-blue-900/50 text-blue-300 px-2 py-1 rounded border border-blue-500/20">v1.0</span>
                    </div>
                    <h3 class="text-lg font-bold text-white mb-2 group-hover:text-blue-400">ICMS</h3>
                    <p class="text-xs text-slate-400 mb-4">Intelligent Cooperative Management. Dispatch fleets and manage cooperative assets.</p>
                </div>
                <!-- LETS -->
                <div class="glass-panel p-6 rounded-2xl hover:border-yellow-500/50 transition group cursor-pointer relative overflow-hidden" onclick="openModule('LETS')">
                    <div class="absolute -right-4 -top-4 w-20 h-20 bg-yellow-500/10 rounded-full blur-2xl group-hover:bg-yellow-500/20 transition"></div>
                    <div class="flex justify-between items-start mb-4">
                        <div class="w-12 h-12 rounded-lg bg-yellow-900/30 border border-yellow-500/30 flex items-center justify-center text-yellow-400 text-xl"><i class="fas fa-file-invoice-dollar"></i></div>
                        <span class="text-[10px] bg-yellow-900/50 text-yellow-300 px-2 py-1 rounded border border-yellow-500/20">v2.1</span>
                    </div>
                    <h3 class="text-lg font-bold text-white mb-2 group-hover:text-yellow-400">LETS</h3>
                    <p class="text-xs text-slate-400 mb-4">Luntian Eco-Tax System. Digital revenue collection and transparency auditing.</p>
                </div>
                <!-- MOCS -->
                <div class="glass-panel p-6 rounded-2xl hover:border-red-500/50 transition group cursor-pointer relative overflow-hidden" onclick="openModule('MOCS')">
                    <div class="absolute -right-4 -top-4 w-20 h-20 bg-red-500/10 rounded-full blur-2xl group-hover:bg-red-500/20 transition"></div>
                    <div class="flex justify-between items-start mb-4">
                        <div class="w-12 h-12 rounded-lg bg-red-900/30 border border-red-500/30 flex items-center justify-center text-red-400 text-xl"><i class="fas fa-shield-virus"></i></div>
                        <span class="text-[10px] bg-red-900/50 text-red-300 px-2 py-1 rounded border border-red-500/20">v1.0</span>
                    </div>
                    <h3 class="text-lg font-bold text-white mb-2 group-hover:text-red-400">MOCS</h3>
                    <p class="text-xs text-slate-400 mb-4">Marine Operation & Compliance. Surveillance and Quick Response Team dispatch.</p>
                </div>
            </div>

            <!-- LIVE FEED WIDGET -->
            <div class="glass-panel rounded-xl border-l-2 border-emerald-500 p-0 overflow-hidden fade-in" style="animation-delay: 0.2s;">
                <div class="bg-black/40 px-4 py-3 border-b border-white/5 flex justify-between items-center">
                    <h3 class="font-bold text-sm text-white"><i class="fas fa-satellite-dish text-emerald-500 mr-2"></i> COMMAND FEED</h3>
                    <button class="text-xs text-emerald-400 hover:text-white" onclick="openAdminPost()">+ NEW ALERT</button>
                </div>
                <div id="command-feed" class="max-h-64 overflow-y-auto p-4 space-y-3 no-scrollbar">
                    <!-- JS Injects Posts Here -->
                </div>
            </div>

        </main>

        <!-- GLOBAL FOOTER (Digital ID Access) -->
        <div class="h-16 border-t border-white/10 bg-slate-950 flex items-center justify-between px-6 z-30">
            <p class="text-[10px] text-slate-600 font-mono">SECURE CONNECTION // TLS 1.3</p>
            <button onclick="toggleIDCard()" class="flex items-center gap-2 bg-emerald-900/30 border border-emerald-500/30 px-4 py-1.5 rounded-full text-emerald-400 hover:bg-emerald-500 hover:text-black transition">
                <i class="fas fa-id-card"></i> <span class="text-xs font-bold">DIGITAL ID</span>
            </button>
        </div>

    </div>

    <!-- DIGITAL ID MODAL -->
    <div id="id-modal" class="fixed inset-0 z-50 bg-black/80 backdrop-blur-md hidden flex items-center justify-center p-6 slide-up">
        <div class="w-full max-w-sm bg-slate-900 border border-emerald-500/30 rounded-2xl overflow-hidden relative">
            <button onclick="toggleIDCard()" class="absolute top-4 right-4 text-slate-500 hover:text-white"><i class="fas fa-times"></i></button>
            <div class="h-32 bg-gradient-to-br from-emerald-800 to-black relative">
                <div class="absolute bottom-0 left-0 w-full h-full bg-[url('images/pattern.png')] opacity-10"></div>
                <div class="absolute -bottom-8 left-6 w-20 h-20 rounded-full border-4 border-slate-900 bg-slate-800 overflow-hidden">
                    <img src="https://ui-avatars.com/api/?name=Admin&background=000&color=fff" class="w-full h-full">
                </div>
            </div>
            <div class="pt-10 px-6 pb-6">
                <h2 class="text-2xl font-tech text-white">COMMANDER</h2>
                <p class="text-xs text-emerald-500 uppercase tracking-widest mb-6">System Administrator</p>
                <div class="bg-white p-2 rounded-lg inline-block mb-4"><div id="qrcode"></div></div>
                <p class="text-[10px] text-slate-500 font-mono text-center">ID: LUNTIAN-ROOT-001</p>
            </div>
        </div>
    </div>

    <script>
        // --- SECURE AUTH LOGIC ---
        // Base64 Encoded Credentials (COMMANDER / LUNTIAN2030)
        const ADMIN_ID_HASH = "Q09NTUFOREVS"; 
        const ADMIN_PASS_HASH = "TFVOVElBTjIwMzA=";

        function handleLogin(e) {
            e.preventDefault();
            const idInput = document.getElementById('login-id').value;
            const passInput = document.getElementById('login-pass').value;

            if (btoa(idInput) === ADMIN_ID_HASH && btoa(passInput) === ADMIN_PASS_HASH) {
                // Transition
                const landing = document.getElementById('view-landing');
                landing.style.transform = 'translateY(-100%)';
                
                setTimeout(() => {
                    landing.style.display = 'none';
                    const dash = document.getElementById('system-dashboard');
                    dash.classList.remove('hidden');
                    setTimeout(() => dash.classList.remove('opacity-0'), 50);
                    renderFeed();
                }, 600);
            } else {
                alert("ACCESS DENIED: Invalid Command Credentials.");
            }
        }

        function logout() { location.reload(); }

        // --- ID CARD LOGIC ---
        function toggleIDCard() {
            const modal = document.getElementById('id-modal');
            modal.classList.toggle('hidden');
            if(!modal.classList.contains('hidden') && document.getElementById('qrcode').innerHTML === "") {
                new QRCode(document.getElementById("qrcode"), { text: "LUNTIAN-AUTH:COMMANDER", width: 100, height: 100 });
            }
        }

        // --- FEED LOGIC ---
        const feedData = [
            { sys: 'MOCS', msg: 'Patrol Boat Alpha deployed to Twin Reef.', time: '10m ago', color: 'text-red-400' },
            { sys: 'LETS', msg: 'Daily remittance from Tourist Center received.', time: '1h ago', color: 'text-yellow-400' },
            { sys: 'ICMS', msg: 'New Guardian profile registered: Unit Beta.', time: '3h ago', color: 'text-blue-400' },
        ];

        function renderFeed() {
            document.getElementById('command-feed').innerHTML = feedData.map(item => `
                <div class="flex gap-3 items-start border-b border-white/5 pb-2 last:border-0">
                    <span class="font-mono text-[10px] ${item.color} font-bold w-10">${item.sys}</span>
                    <div class="flex-1">
                        <p class="text-slate-300 text-xs">${item.msg}</p>
                        <p class="text-[9px] text-slate-600 mt-1">${item.time}</p>
                    </div>
                </div>
            `).join('');
        }

        function openModule(name) { alert(name + " Module Loading... (Phase 2 Implementation)"); }
    </script>
</body>
</html>